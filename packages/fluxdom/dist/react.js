"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("react"),h=require("./index.js");function g(e,t){return Object.is(e,t)}function f(e,t,s=Object.is){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const u of n)if(!Object.prototype.hasOwnProperty.call(t,u)||!s(e[u],t[u]))return!1;return!0}function p(e,t){return f(e,t,f)}function d(e,t){return f(e,t,p)}function a(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!a(e[r],t[r]))return!1;return!0}if(Array.isArray(t))return!1;const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;for(const r of s)if(!Object.prototype.hasOwnProperty.call(t,r)||!a(e[r],t[r]))return!1;return!0}function k(e){return!e||e==="strict"?g:e==="shallow"?f:e==="shallow2"?p:e==="shallow3"?d:e==="deep"?a:e}function O(e,t,s){const n=Array.isArray(e)?e:[e],r=c.useMemo(()=>k(s),[s]),u=c.useRef(void 0),y=c.useCallback(()=>{const i=n.map(o=>o.getState()),l=t?t(...i):i[0];return u.current!==void 0&&r(u.current,l)?u.current:(u.current=l,l)},[n.length,...n,t,r]),j=c.useCallback(i=>{const l=n.map(o=>o.onChange(i));return()=>l.forEach(o=>o())},[n.length,...n]);return c.useSyncExternalStore(j,y,y)}exports.derived=h.derived;exports.domain=h.domain;exports.useSelector=O;
